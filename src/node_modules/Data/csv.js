import Papa from 'papaparse'

export const parse = (value) => {
  const content = Papa.parse(value)
  if (content.errors.length) {
    return [false]
  }
  return [true, content.data]
}

export const parseFile = (file) => {
  return new Promise((resolve, reject) => {
    const options = {
      complete(results) {
        if (results.errors.length) {
          reject()
        } else {
          resolve(results.data)
        }
      }
    }
    Papa.parse(file, options)
  })
}